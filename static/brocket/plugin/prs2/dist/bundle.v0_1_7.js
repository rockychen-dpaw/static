var BrocketPlugin=function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){/**
	 * @fileOverview
	 * @name index.js
	 * @author Gavin Coombes
	 * @license BSD-3-Clause
	 */
"use strict";var r=e(31);t.exports=r},function(t,n){function e(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}t.exports=e},function(t,n){function e(t){return!!t&&"object"==typeof t}t.exports=e},function(t,n,e){var r=e(7),i=e(4),o=e(2),s="[object Array]",u=Object.prototype,a=u.toString,c=r(Array,"isArray"),f=c||function(t){return o(t)&&i(t.length)&&a.call(t)==s};t.exports=f},function(t,n){function e(t){return"number"==typeof t&&t>-1&&t%1==0&&r>=t}var r=9007199254740991;t.exports=e},function(t,n){function e(t,n){return t="number"==typeof t||r.test(t)?+t:-1,n=null==n?i:n,t>-1&&t%1==0&&n>t}var r=/^\d+$/,i=9007199254740991;t.exports=e},function(t,n){function e(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}t.exports=e},function(t,n,e){function r(t,n){var e=null==t?void 0:t[n];return i(e)?e:void 0}var i=e(78);t.exports=r},function(t,n){function e(t,n){if("function"!=typeof t)throw new TypeError(r);return n=i(void 0===n?t.length-1:+n||0,0),function(){for(var e=arguments,r=-1,o=i(e.length-n,0),s=Array(o);++r<o;)s[r]=e[n+r];switch(n){case 0:return t.call(this,s);case 1:return t.call(this,e[0],s);case 2:return t.call(this,e[0],e[1],s)}var u=Array(n+1);for(r=-1;++r<n;)u[r]=e[r];return u[n]=s,t.apply(this,u)}}var r="Expected a function",i=Math.max;t.exports=e},function(t,n,e){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=s,this.__views__=[]}var i=e(10),o=e(11),s=Number.POSITIVE_INFINITY;r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,n,e){var r=e(1),i=function(){function t(){}return function(n){if(r(n)){t.prototype=n;var e=new t;t.prototype=void 0}return e||{}}}();t.exports=i},function(t,n){function e(){}t.exports=e},function(t,n,e){function r(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=i(t.prototype),r=t.apply(e,n);return o(r)?r:e}}var i=e(10),o=e(1);t.exports=r},function(t,n,e){function r(t){return null!=t&&o(i(t))}var i=e(66),o=e(4);t.exports=r},function(t,n){function e(t,n){for(var e=-1,i=t.length,o=-1,s=[];++e<i;)t[e]===n&&(t[e]=r,s[++o]=e);return s}var r="__lodash_placeholder__";t.exports=e},function(t,n,e){function r(t){return o(t)&&i(t)&&u.call(t,"callee")&&!a.call(t,"callee")}var i=e(13),o=e(2),s=Object.prototype,u=s.hasOwnProperty,a=s.propertyIsEnumerable;t.exports=r},function(t,n,e){var r=e(81),i=e(45),o=e(57),s=o(r,i);t.exports=s},function(t,n,e){var r=e(7),i=e(13),o=e(1),s=e(73),u=r(Object,"keys"),a=u?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?s(t):o(t)?u(t):[]}:s;t.exports=a},function(t,n,e){!function(n){"use strict";var e="cuid",r=0,i=4,o=36,s=Math.pow(o,i),u=function(t,n){var e="000000000"+t;return e.substr(e.length-n)},a=function(){return u((Math.random()*s<<0).toString(o),i)},c=function(){return r=s>r?r:0,r++,r-1},f=function(){var t,n="c",e=(new Date).getTime().toString(o),r=f.fingerprint(),s=a()+a();return t=u(c().toString(o),i),n+e+t+r+s};f.slug=function(){var t,n=(new Date).getTime().toString(36),e=f.fingerprint().slice(0,1)+f.fingerprint().slice(-1),r=a().slice(-2);return t=c().toString(36).slice(-4),n.slice(-2)+t+e+r},f.globalCount=function(){var t=function(){var t,n=0;for(t in window)n++;return n}();return f.globalCount=function(){return t},t},f.fingerprint=function(){return u((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+f.globalCount().toString(36),4)},n.register?n.register(e,f):t.exports=f}(this.applitude||this)},function(t,n,e){function r(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}var i=e(10),o=e(11);r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,n,e){var r=e(30),i=e(25),o=i?function(t,n){return i.set(t,n),t}:r;t.exports=o},function(t,n,e){function r(t,n,e){if("function"!=typeof t)return i;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,s){return t.call(n,e,r,i,o,s)}}return function(){return t.apply(n,arguments)}}var i=e(30);t.exports=r},function(t,n){function e(t,n,e){for(var i=e.length,o=-1,s=r(t.length-i,0),u=-1,a=n.length,c=Array(a+s);++u<a;)c[u]=n[u];for(;++o<i;)c[e[o]]=t[o];for(;s--;)c[u++]=t[o++];return c}var r=Math.max;t.exports=e},function(t,n){function e(t,n,e){for(var i=-1,o=e.length,s=-1,u=r(t.length-o,0),a=-1,c=n.length,f=Array(u+c);++s<u;)f[s]=t[s];for(var l=s;++a<c;)f[l+a]=n[a];for(;++i<o;)f[l+e[i]]=t[s++];return f}var r=Math.max;t.exports=e},function(t,n,e){var r=e(25),i=e(83),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,n,e){(function(n){var r=e(7),i=r(n,"WeakMap"),o=i&&new i;t.exports=o}).call(n,function(){return this}())},function(t,n,e){var r=e(20),i=e(42),o=150,s=16,u=function(){var t=0,n=0;return function(e,u){var a=i(),c=s-(a-n);if(n=a,c>0){if(++t>=o)return e}else t=0;return r(e,u)}}();t.exports=u},function(t,n,e){function r(t){return i(t)?t:Object(t)}var i=e(1);t.exports=r},function(t,n,e){function r(t){return"string"==typeof t||i(t)&&u.call(t)==o}var i=e(2),o="[object String]",s=Object.prototype,u=s.toString;t.exports=r},function(t,n,e){function r(t,n){if(null==t)return!1;var e=p.call(t,n);if(!e&&!c(n)){if(n=h(n),t=1==n.length?t:i(t,o(n,0,-1)),null==t)return!1;n=l(n),e=p.call(t,n)}return e||f(t.length)&&a(n,t.length)&&(u(t)||s(t))}var i=e(49),o=e(53),s=e(15),u=e(3),a=e(5),c=e(68),f=e(4),l=e(40),h=e(74),_=Object.prototype,p=_.hasOwnProperty;t.exports=r},function(t,n){function e(t){return t}t.exports=e},function(t,n,e){/**
	 * @fileOverview
	 * @name plugin.js
	 * @author Gavin Coombes
	 * @license
	 */
"use strict";function r(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}function i(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function o(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function s(t,n){E(t),E(t[n],n),b(t[n],"destroy"),t[n].destroy()}function u(t){var n=x(t,2),e=n[0],r=n[1];y(e),g(r);var i={bounds:e.getBounds(),features:r};return i}function a(t){console.log("prs.plugin received: ",t)}function c(t){E(t);var n=t.features,e=n.crs.properties.name||"",r=n.features[0].properties.referral,i={base:{bounds:m(t.bounds),projection:""},tileLayers:{},featureLayers:o({},r,{id:r,data_source:"$ref",path:["root","data",r],layer_name:"referral_"+r,projection:e,provider:"ogr"}),layout:{container:{width:null,height:null,orientation:null},layers:[r],widgets:[]},widgets:{},data:o({},r,t.features)};return i}function f(t,n){var e=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(n&&n.ack&&t.has(n.ack)){var r=t.get(n.ack);r&&r.length&&r.forEach(function(t){return t(n)}),e&&t["delete"](n.ack)}}function l(t){var n=arguments.length<=1||void 0===arguments[1]?5e3:arguments[1],e=t||function(){return alert(P)},r=setTimeout(e,n);return r}function h(t){return function(){return clearTimeout(t)}}function _(t){var n=w({syn:!0},t);return n.cuid||(n.cuid=S()),n.time||(n.time=O.now()),n}function p(){function t(t){function n(){fetch(L,{method:"GET",data:{},dataType:"json",credentials:"include"}).then(e)["catch"](V)}function e(n){O.isEqual(o,n)||(t.emit(n),o=n)}n();var r=setInterval(n,5e3),i=function(){return clearInterval(r)};return i;var o}var n=A.stream(t).toProperty();return n}function d(t,n){var e=arguments.length<=2||void 0===arguments[2]?V:arguments[2];if(n.syn){var r=n.cuid,o=t.get(r)||[],s=[].concat(i(o),[e]);t.set(r,s)}return t}function v(t,n,e){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];E(t,"_self");var i={userID:r.username,channel:r.shared_id},o=O.defaults({},n,i,k);e=e||Object.create(T),e.init(o),e.on("message",a),e.on("dispatch",function(t){return V("PRS.plugin: dispatched msg",t)}),e.on("receive",function(t){return V("PRS.plugin: received msg",t)}),e.inject_kefir(A),t.tag=o.appID+":map:transport",t.relay=e,t.message$=t.relay.message$,t.message$.onValue(f.bind(null,t.ackRegistry)),o.autoConnect&&t.connect()}function m(t){var n={minLon:t._southWest.lng,minLat:t._southWest.lat,maxLon:t._northEast.lng,maxLat:t._northEast.lat};return n}function y(t){if(null==t||"function"!=typeof t.getBounds)throw new TypeError("map object must have getBounds method")}function g(t){if(null==t||"object"!==("undefined"==typeof t?"undefined":r(t)))throw TypeError("geojson object must be valid")}function b(t,n){if(null==t||"object"!==("undefined"==typeof t?"undefined":r(t))||!t[n]||"function"!=typeof t[n])throw TypeError((n?n:"")+" method  must be valid")}function E(t,n){if(null==t||"object"!==("undefined"==typeof t?"undefined":r(t)))throw TypeError((n?n:"value")+" object must be valid")}var w=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},x=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),A=e(39),S=e(18),T=e(33);e(36).polyfill(),e(38);var O=e(32),V=O.log,L="https://oim.dpaw.wa.gov.au/api/whoami",P="\nThe export seems to have failed.\nCould you check:\n1. You have signed into a DPaW site in this browser,\n2. QGIS is open and you have clicked the plugin icon,\n3. that monorail page is open in your browser.\n",k={baseAddr:"wss://brocket.dpaw.wa.gov.au",channel:"",appID:"prs",autoConnect:!0},I={credential$:p(),dispatch:null,init:function(t,n){var e=this;t=t||{},e.ackRegistry=new Map,e.credential$.onValue(O.partial(v,e,t,n))},connect:function(){var t=this;t.relay.connect(),t.dispatch=t.relay.dispatch.bind(t.relay)},dispatch:function(t){var n=this;n.relay.dispatch.call(n.relay,t)},"export":function(t){var n=this,e=u(t),r=c(e),i={tag:n.tag,payload:r},o=_(i),s=l(),a=h(s);d(n.ackRegistry,o,a),n.dispatch(o)},destroy:function(){var t=this;s(t,"relay")},_harvest:u,_transform:c,_destroy:s};I.module={acknowledge:f,assocSyn:_,registerAck:d,setCallbackTimeout:l,makeClearTimeout:h,setupRelay:v},t.exports=I},function(t,n,e){"use strict";/**
	 * @fileOverview
	 * @name utility.js
	 * @author Gavin Coombes
	 * @license BSD-3-Clause
	 */
var r={defaults:e(16),partial:e(43),isEqual:e(76),isUndefined:e(80),log:Function.prototype.bind.call(console.log,console),now:function(){return(new Date).toISOString()}};r.isDefined=function(t){return!r.isUndefined(t)},t.exports=r},function(t,n,e){"use strict";var r=e(34);t.exports=r},function(t,n,e){/**
	 * @fileOverview
	 * @name relay.js
	 * @author Gavin Coombes
	 * @license MIT
	 * @version 0.2.0
	 * @module relay
	 *
	 * A brocket relay using the EventEmitter interface
	 *
	 */
"use strict";function r(t){if(Array.isArray(t)){for(var n=0,e=Array(t.length);n<t.length;n++)e[n]=t[n];return e}return Array.from(t)}function i(t,n){var e={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function o(t,n){var e=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];n.ack&&t.has(n.ack)&&(h(t.get(n.ack),n),e&&t["delete"](n.ack))}function s(t,n,e){return T.has(t,n)||(t[n]=[]),t[n]=[].concat(r(t[n]),[e]),t}function u(t,n){var e=arguments.length<=2||void 0===arguments[2]?f:arguments[2];if(n.syn){var i=n.cuid,o=t.get(i)||[],s=[].concat(r(o),[e]);t.set(i,s)}return t}function a(t,n){t&&0===t.readyState?window.setTimeout(a.bind(null,t,n),n):t&&1===t.readyState?t.close():O("Socket does not exist or is closed.")}function c(t,n,e){if(!(t.sendMode<1)){var r=(v(t.opts.wrapping,t.tag,n),l(e,n));u(t.ackRegistry,r);var i=_(r);t._send(i),t.emit("dispatch",r)}}function f(t){console.log("Ack: ",t)}function l(t,n){return t?b({syn:!0},n):n}function h(t,n){t&&t.length&&t.forEach(function(t){return t(n)})}function _(t){return JSON.stringify(t)}function p(t){var n=void 0;if(T.isString(t))n=JSON.parse(t);else{if(!T.isObject(t))throw new Error("I don't even know what he is!? "+t);n=t}return n}function d(t,n){var e=t+"/pubsub/"+n,r=t+"/pubsub/"+n;return[e,r]}function v(t,n,e){return t?m(n,e):e}function m(t,n){var e={tag:t,payload:n,time:T.now(),cuid:A()};return e}function y(t,n){return t&&(n=g(n)),n}function g(t){var n=t.payload;return i(t,["payload"]),n}var b=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},E=function(){function t(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done)&&(e.push(s.value),!n||e.length!==n);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u["return"]&&u["return"]()}finally{if(i)throw o}}return e}return function(n,e){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=e(37),x=e(85),A=e(18),S=e(35),T=(w.EventEmitter,S),O=S.log,V="|",L={debug:!1,automaticOpen:!1,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null,binaryType:"blob"},P={baseAddr:void 0,channel:"",appID:void 0,userID:void 0,connID:void 0,pulse:3e4,recvMode:1,sendMode:1,conchMode:1,ignoreEcho:!1,wrapping:!0,webSocketOptions:L},k=function(){var t=Object.create(new w.EventEmitter);return t.$type="RelayModule",t}(),I=Object.create(k);I.init=function(t){var n=this;n.opts=T.defaults({},t,P),n.recvMode=T.prop(n.opts.recvMode),n.sendMode=T.prop(n.opts.sendMode),n.conchMode=T.prop(n.opts.conchMode),n._channel=T.prop(n.opts.channel);var e=d(n.opts.baseAddr,n._channel()),r=E(e,2);n.pubAddr=r[0],n.subAddr=r[1],n.message$=null,n.opts.connID=T._s6(),n.tag=[n.opts.appID,n.opts.userID,n.opts.connID].join(V),n.subscriptions=Object.create({}),n.ackRegistry=new Map,n.opts.automaticOpen&&n.connect()},I.broadcast=function(t){var n=this,e=n.subscriptions,r=t.tag,i=t.payload;h(e.global,t),h(e[r],i),n.emit("broadcast",t)},I.channel=function(t){var n=this;if(arguments.length){n._channel(t);var e=d(n.opts.baseAddr,n._channel()),r=E(e,2);n.pubAddr=r[0],n.subAddr=r[1],n.reconnect()}return n._channel()},I.connect=function(){var t=this;t._connect(x,t.opts.webSocketOptions)},I._connect=function(t,n){var e=this,r=new t(e.pubAddr,null,n);r.addEventListener("open",function(t){return e.emit("pub/open")}),r.addEventListener("close",function(){return e.emit("pub/close")}),r.addEventListener("error",function(t){return e.emit("pub/error",t)}),r.addEventListener("error",function(t){return e.emit("error",t)}),r.open(),e.pubWS=r,e.subWS=new t(e.subAddr,null,n),e.subWS.addEventListener("open",function(t){return e.emit("sub/open")}),e.subWS.addEventListener("open",function(t){return O("Opening "+e.subAddr)}),e.subWS.addEventListener("close",function(t){return e.emit("sub/close",t)}),e.subWS.addEventListener("error",function(t){return e.emit("sub/error",t)}),e.subWS.addEventListener("error",function(t){return e.emit("error",t)}),e.subWS.addEventListener("message",function(t){return e.receive(t)}),e.subWS.open(),e.emit("beat","Connecting")},I.dispatch=function(t){var n=this,e=void 0;if(!(n.sendMode<1)){if(n.opts.wrapping){var r=n.wrap(t);e=n.serialise(r)}else e=n.serialise(t);1===n.pubWS.readyState?(n.emit("dispatch",t),n.pubWS.send(e)):console.warn("Websocket is not open! Message dropped is ",t)}},I.boundDispatch=function(){return c.bind(null,this)},I.dispatchStream=function(t){var n=self.dispatch.bind(self);t.subscribe(n)},I.inject_kefir=function(t){var n=this,e=t.fromEvents(n,"receive");n.message$=e},I.inject_rx=function(t){var n=this,e=t.Observable.fromEvent(n,"receive"),r=new t.BehaviorSubject;e.subscribe(r),n.message$=r},I.receive=function(t){var n=this;if(!(n.recvMode<1)){var e=n.deserialise(t.data);o(n.ackRegistry,e);var r=y(n.opts.wrapping,e),s=r.tag,u=r.payload,a=i(r,["tag","payload"]),c=s.split(V),f=E(c,3),l=(f[0],f[1],f[2]);if(n.opts.ignoreEcho&&n.opts.connID===l)return void O("Echo ignored. connID: "+n.opts.connID);var h=b({tag:s,payload:u},a);n.broadcast(h),n.emit("receive",h)}},I.reconnect=function(){var t=this;t.pubWS&&t.pubWS.close(),t.subWS&&t.subWS.close(),t.connect()},I.subscribe=function(){for(var t=this,n=arguments.length,e=Array(n),r=0;n>r;r++)e[r]=arguments[r];var i=e[0],o=e[1];if(!o){var u=["global",i];i=u[0],o=u[1]}t.subscriptions=s(t.subscriptions,i,o)},I.destroy=function(t){var n=this;t=t||100,a(n.pubWS,t),a(n.subWS,t)},I.wrap=function(t){var n=this;return m(n.tag,t)},I.unwrap=g,I.serialise=_,I.deserialise=p,I.module={acknowledge:o,registerSyn:u,maybe_syn:l,wrap:m},t.exports=I},function(t,n,e){"use strict";function r(t){var n=function(n){return arguments.length&&(t=n),t};return n.toJSON=function(){return t},n}function i(){return Math.floor(16777216*(1+Math.random())).toString(16).substring(1)}function o(){return(new Date).toISOString()}/**
	 * @fileOverview
	 * @name utility.js<relay>
	 * @author Gavin Coombes
	 * @license BSD-3-Clause
	 *
	 * Local util script just inlines functions from dpaw-brocket-utility and lodash
	 */
var s=function(){},u=Function.prototype.bind.call(console.log,console);s.prop=r,s.isObject=e(1),s.isString=e(28),s.has=e(29),s.defaults=e(16),t.exports={prop:r,log:u,_s6:i,has:e(29),defaults:e(16),isObject:e(1),isString:e(28),now:o}},function(t,n,e){var r;(function(t,i,o){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.0.2
	 */
(function(){"use strict";function s(t){return"function"==typeof t||"object"==typeof t&&null!==t}function u(t){return"function"==typeof t}function a(t){return"object"==typeof t&&null!==t}function c(t){Y=t}function f(t){X=t}function l(){return function(){t.nextTick(v)}}function h(){return function(){G(v)}}function _(){var t=0,n=new tt(v),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=v,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(v,1)}}function v(){for(var t=0;J>t;t+=2){var n=rt[t],e=rt[t+1];n(e),rt[t]=void 0,rt[t+1]=void 0}J=0}function m(){try{var t=e(89);return G=t.runOnLoop||t.runOnContext,h()}catch(n){return d()}}function y(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function E(t){try{return t.then}catch(n){return ut.error=n,ut}}function w(t,n,e,r){try{t.call(n,e,r)}catch(i){return i}}function x(t,n,e){X(function(t){var r=!1,i=w(e,n,function(e){r||(r=!0,n!==e?T(t,e):V(t,e))},function(n){r||(r=!0,L(t,n))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,L(t,i))},t)}function A(t,n){n._state===ot?V(t,n._result):n._state===st?L(t,n._result):P(n,void 0,function(n){T(t,n)},function(n){L(t,n)})}function S(t,n){if(n.constructor===t.constructor)A(t,n);else{var e=E(n);e===ut?L(t,ut.error):void 0===e?V(t,n):u(e)?x(t,n,e):V(t,n)}}function T(t,n){t===n?L(t,g()):s(n)?S(t,n):V(t,n)}function O(t){t._onerror&&t._onerror(t._result),k(t)}function V(t,n){t._state===it&&(t._result=n,t._state=ot,0!==t._subscribers.length&&X(k,t))}function L(t,n){t._state===it&&(t._state=st,t._result=n,X(O,t))}function P(t,n,e,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=n,i[o+ot]=e,i[o+st]=r,0===o&&t._state&&X(k,t)}function k(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r,i,o=t._result,s=0;s<n.length;s+=3)r=n[s],i=n[s+e],r?C(e,r,i,o):i(o);t._subscribers.length=0}}function I(){this.error=null}function j(t,n){try{return t(n)}catch(e){return at.error=e,at}}function C(t,n,e,r){var i,o,s,a,c=u(e);if(c){if(i=j(e,r),i===at?(a=!0,o=i.error,i=null):s=!0,n===i)return void L(n,b())}else i=r,s=!0;n._state!==it||(c&&s?T(n,i):a?L(n,o):t===ot?V(n,i):t===st&&L(n,i))}function N(t,n){try{n(function(n){T(t,n)},function(n){L(t,n)})}catch(e){L(t,e)}}function R(t,n){var e=this;e._instanceConstructor=t,e.promise=new t(y),e._validateInput(n)?(e._input=n,e.length=n.length,e._remaining=n.length,e._init(),0===e.length?V(e.promise,e._result):(e.length=e.length||0,e._enumerate(),0===e._remaining&&V(e.promise,e._result))):L(e.promise,e._validationError())}function D(t){return new ct(this,t).promise}function $(t){function n(t){T(i,t)}function e(t){L(i,t)}var r=this,i=new r(y);if(!z(t))return L(i,new TypeError("You must pass an array to race.")),i;for(var o=t.length,s=0;i._state===it&&o>s;s++)P(r.resolve(t[s]),void 0,n,e);return i}function M(t){var n=this;if(t&&"object"==typeof t&&t.constructor===n)return t;var e=new n(y);return T(e,t),e}function W(t){var n=this,e=new n(y);return L(e,t),e}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(t){this._id=pt++,this._state=void 0,this._result=void 0,this._subscribers=[],y!==t&&(u(t)||B(),this instanceof H||U(),N(this,t))}function q(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;(!e||"[object Promise]"!==Object.prototype.toString.call(e.resolve())||e.cast)&&(t.Promise=dt)}var F;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var G,Y,Q,z=F,J=0,X=({}.toString,function(t,n){rt[J]=t,rt[J+1]=n,J+=2,2===J&&(Y?Y(v):Q())}),K="undefined"!=typeof window?window:void 0,Z=K||{},tt=Z.MutationObserver||Z.WebKitMutationObserver,nt="undefined"!=typeof t&&"[object process]"==={}.toString.call(t),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,rt=new Array(1e3);Q=nt?l():tt?_():et?p():void 0===K?m():d();var it=void 0,ot=1,st=2,ut=new I,at=new I;R.prototype._validateInput=function(t){return z(t)},R.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},R.prototype._init=function(){this._result=new Array(this.length)};var ct=R;R.prototype._enumerate=function(){for(var t=this,n=t.length,e=t.promise,r=t._input,i=0;e._state===it&&n>i;i++)t._eachEntry(r[i],i)},R.prototype._eachEntry=function(t,n){var e=this,r=e._instanceConstructor;a(t)?t.constructor===r&&t._state!==it?(t._onerror=null,e._settledAt(t._state,n,t._result)):e._willSettleAt(r.resolve(t),n):(e._remaining--,e._result[n]=t)},R.prototype._settledAt=function(t,n,e){var r=this,i=r.promise;i._state===it&&(r._remaining--,t===st?L(i,e):r._result[n]=e),0===r._remaining&&V(i,r._result)},R.prototype._willSettleAt=function(t,n){var e=this;P(t,void 0,function(t){e._settledAt(ot,n,t)},function(t){e._settledAt(st,n,t)})};var ft=D,lt=$,ht=M,_t=W,pt=0,dt=H;H.all=ft,H.race=lt,H.resolve=ht,H.reject=_t,H._setScheduler=c,H._setAsap=f,H._asap=X,H.prototype={constructor:H,then:function(t,n){var e=this,r=e._state;if(r===ot&&!t||r===st&&!n)return this;var i=new this.constructor(y),o=e._result;if(r){var s=arguments[r-1];X(function(){C(r,i,s,o)})}else P(e,i,t,n);return i},"catch":function(t){return this.then(null,t)}};var vt=q,mt={Promise:dt,polyfill:vt};e(86).amd?(r=function(){return mt}.call(n,e,n,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=mt:"undefined"!=typeof this&&(this.ES6Promise=mt),vt()}).call(this)}).call(n,e(84),function(){return this}(),e(87)(t))},function(t,n){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!i(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var n,e,i,u,a,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n;throw TypeError('Uncaught, unspecified "error" event.')}if(e=this._events[t],s(e))return!1;if(r(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),e.apply(this,u)}else if(o(e))for(u=Array.prototype.slice.call(arguments,1),c=e.slice(),i=c.length,a=0;i>a;a++)c[a].apply(this,u);return!0},e.prototype.addListener=function(t,n){var i;if(!r(n))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(n.listener)?n.listener:n),this._events[t]?o(this._events[t])?this._events[t].push(n):this._events[t]=[this._events[t],n]:this._events[t]=n,o(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?e.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,n){function e(){this.removeListener(t,e),i||(i=!0,n.apply(this,arguments))}if(!r(n))throw TypeError("listener must be a function");var i=!1;return e.listener=n,this.on(t,e),this},e.prototype.removeListener=function(t,n){var e,i,s,u;if(!r(n))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],s=e.length,i=-1,e===n||r(e.listener)&&e.listener===n)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,n);else if(o(e)){for(u=s;u-- >0;)if(e[u]===n||e[u].listener&&e[u].listener===n){i=u;break}if(0>i)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,n)}return this},e.prototype.removeAllListeners=function(t){var n,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],r(e))this.removeListener(t,e);else if(e)for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){var n;return n=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var n=this._events[t];if(r(n))return 1;if(n)return n.length}return 0},e.listenerCount=function(t,n){return t.listenerCount(n)}},function(t,n,e){e(88),t.exports=self.fetch.bind(self)},function(t,n,e){/*! Kefir.js v3.1.0
	 *  https://github.com/rpominov/kefir
	 */
!function(n,e){t.exports=e()}(this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";function r(t){if(i.DEPRECATION_WARNINGS!==!1&&console&&"function"==typeof console.warn){var n="\nHere is an Error object for you containing the call stack:";console.warn(t,n,new Error)}}var i=t.exports={};i.Kefir=i;var o=i.Observable=e(1);i.Stream=e(6),i.Property=e(7),i.never=e(8),i.later=e(9),i.interval=e(11),i.sequentially=e(12),i.fromPoll=e(13),i.withInterval=e(14),i.fromCallback=e(16),i.fromNodeCallback=e(18),i.fromEvents=e(19),i.stream=e(17),i.constant=e(22),i.constantError=e(23);var s=e(24);o.prototype.toProperty=function(t){return s(this,t)};var u=e(26);o.prototype.changes=function(){return u(this)},i.fromPromise=e(27);var a=e(28);o.prototype.toPromise=function(t){return a(this,t)},i.fromESObservable=e(29);var c=e(31);o.prototype.toESObservable=c,o.prototype[e(30)("observable")]=c;var f=e(32);o.prototype.map=function(t){return f(this,t)};var l=e(33);o.prototype.filter=function(t){return l(this,t)};var h=e(34);o.prototype.take=function(t){return h(this,t)};var _=e(35);o.prototype.takeErrors=function(t){return _(this,t)};var p=e(36);o.prototype.takeWhile=function(t){return p(this,t)};var d=e(37);o.prototype.last=function(){return d(this)};var v=e(38);o.prototype.skip=function(t){return v(this,t)};var m=e(39);o.prototype.skipWhile=function(t){return m(this,t)};var y=e(40);o.prototype.skipDuplicates=function(t){return y(this,t)};var g=e(41);o.prototype.diff=function(t,n){return g(this,t,n)};var b=e(42);o.prototype.scan=function(t,n){return b(this,t,n)};var E=e(43);o.prototype.flatten=function(t){return E(this,t)};var w=e(44);o.prototype.delay=function(t){return w(this,t)};var x=e(45);o.prototype.throttle=function(t,n){return x(this,t,n)};var A=e(47);o.prototype.debounce=function(t,n){return A(this,t,n)};var S=e(48);o.prototype.mapErrors=function(t){return S(this,t)};var T=e(49);o.prototype.filterErrors=function(t){return T(this,t)};var O=e(50);o.prototype.ignoreValues=function(){return O(this)};var V=e(51);o.prototype.ignoreErrors=function(){return V(this)};var L=e(52);o.prototype.ignoreEnd=function(){return L(this)};var P=e(53);o.prototype.beforeEnd=function(t){return P(this,t)};var k=e(54);o.prototype.slidingWindow=function(t,n){return k(this,t,n)};var I=e(55);o.prototype.bufferWhile=function(t,n){return I(this,t,n)};var j=e(56);o.prototype.transduce=function(t){return j(this,t)};var C=e(57);o.prototype.withHandler=function(t){return C(this,t)};var N=i.combine=e(58);o.prototype.combine=function(t,n){return N([this,t],n)};var R=i.zip=e(59);o.prototype.zip=function(t,n){return R([this,t],n)};var D=i.merge=e(60);o.prototype.merge=function(t){return D([this,t])};var $=i.concat=e(62);o.prototype.concat=function(t){return $([this,t])};var M=i.Pool=e(64);i.pool=function(){return new M},i.repeat=e(63);var W=e(65);o.prototype.flatMap=function(t){return new W(this,t).setName(this,"flatMap")},o.prototype.flatMapLatest=function(t){return new W(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},o.prototype.flatMapFirst=function(t){return new W(this,t,{concurLim:1}).setName(this,"flatMapFirst")},o.prototype.flatMapConcat=function(t){return new W(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},o.prototype.flatMapConcurLimit=function(t,n){return new W(this,t,{queueLim:-1,concurLim:n}).setName(this,"flatMapConcurLimit")};var B=e(66);o.prototype.flatMapErrors=function(t){return new B(this,t).setName(this,"flatMapErrors")};var U=e(67);o.prototype.filterBy=function(t){return U(this,t)};var H=e(69);o.prototype.sampledBy=function(t,n){return H(this,t,n)};var q=e(70);o.prototype.skipUntilBy=function(t){return q(this,t)};var F=e(71);o.prototype.takeUntilBy=function(t){return F(this,t)};var G=e(72);o.prototype.bufferBy=function(t,n){return G(this,t,n)};var Y=e(73);o.prototype.bufferWhileBy=function(t,n){return Y(this,t,n)};var Q=e(74);o.prototype.awaiting=function(t){return r("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),Q(this,t)};var z=e(75);o.prototype.valuesToErrors=function(t){return r("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),z(this,t)};var J=e(76);o.prototype.errorsToValues=function(t){return r("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),J(this,t)};var X=e(77);o.prototype.endOnError=function(){return r("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),X(this)}},function(t,n,e){"use strict";function r(){this._dispatcher=new h,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null}var i=e(2),o=i.extend,s=e(3),u=s.VALUE,a=s.ERROR,c=s.ANY,f=s.END,l=e(4),h=l.Dispatcher,_=l.callSubscriber,p=e(5),d=p.findByPred;o(r.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,n){switch(t){case u:return this._emitValue(n);case a:return this._emitError(n);case f:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:u,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:a,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:f}),this._clear())},_on:function(t,n){return this._alive?(this._dispatcher.add(t,n),this._setActive(!0)):_(t,n,{type:f}),this},_off:function(t,n){if(this._alive){var e=this._dispatcher.remove(t,n);0===e&&this._setActive(!1)}return this},onValue:function(t){return this._on(u,t)},onError:function(t){return this._on(a,t)},onEnd:function(t){return this._on(f,t)},onAny:function(t){return this._on(c,t)},offValue:function(t){return this._off(u,t)},offError:function(t){return this._off(a,t)},offEnd:function(t){return this._off(f,t)},offAny:function(t){return this._off(c,t)},_ofSameType:function(t,n){return t.prototype.getType()===this.getType()?t:n},setName:function(t,n){return this._name=n?t._name+"."+n:t,this},log:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],n=void 0,e=function(e){var r="<"+e.type+(n?":current":"")+">";e.type===f?console.log(t,r):console.log(t,r,e.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:e})),n=!0,this.onAny(e),n=!1,this},offLog:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var n=d(this._logHandlers,function(n){return n.name===t});-1!==n&&(this.offAny(this._logHandlers[n].handler),this._logHandlers.splice(n,1))}return this}}),r.prototype.toString=function(){return"["+this._name+"]"},t.exports=r},function(t,n){"use strict";function e(t){var n=function(){};return n.prototype=t,new n}function r(t){var n=arguments.length,e=void 0,r=void 0;for(e=1;n>e;e++)for(r in arguments[e])t[r]=arguments[e][r];return t}function i(t,n){var i=arguments.length,o=void 0;for(t.prototype=e(n.prototype),t.prototype.constructor=t,o=2;i>o;o++)r(t.prototype,arguments[o]);return t}t.exports={extend:r,inherit:i}},function(t,n){"use strict";n.NOTHING=["<nothing>"],n.END="end",n.VALUE="value",n.ERROR="error",n.ANY="any"},function(t,n,e){"use strict";function r(t,n,e){t===f?n(e):t===e.type&&(t===a||t===c?n(e.value):n())}function i(){this._items=[],this._inLoop=0,this._removedItems=null}var o=e(2),s=o.extend,u=e(3),a=u.VALUE,c=u.ERROR,f=u.ANY,l=e(5),h=l.concat,_=l.findByPred,p=l.remove,d=l.contains;s(i.prototype,{add:function(t,n){return this._items=h(this._items,[{type:t,fn:n}]),this._items.length},remove:function(t,n){var e=_(this._items,function(e){return e.type===t&&e.fn===n});return 0!==this._inLoop&&-1!==e&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[e])),this._items=p(this._items,e),this._items.length},dispatch:function(t){this._inLoop++;for(var n=0,e=this._items;n<e.length&&null!==this._items;n++)null!==this._removedItems&&d(this._removedItems,e[n])||r(e[n].type,e[n].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null}}),t.exports={callSubscriber:r,Dispatcher:i}},function(t,n){"use strict";function e(t,n){var e=void 0,r=void 0,i=void 0,o=void 0;if(0===t.length)return n;if(0===n.length)return t;for(o=0,e=new Array(t.length+n.length),r=t.length,i=0;r>i;i++,o++)e[o]=t[i];for(r=n.length,i=0;r>i;i++,o++)e[o]=n[i];return e}function r(t,n){var e=t.length,r=new Array(e),i=void 0;for(i=0;e>i;i++)r[(i+n)%e]=t[i];return r}function i(t,n){var e=t.length,r=void 0;for(r=0;e>r;r++)if(t[r]===n)return r;return-1}function o(t,n){var e=t.length,r=void 0;for(r=0;e>r;r++)if(n(t[r]))return r;return-1}function s(t){var n=t.length,e=new Array(n),r=void 0;for(r=0;n>r;r++)e[r]=t[r];return e}function u(t,n){var e=t.length,r=void 0,i=void 0,o=void 0;if(n>=0&&e>n){if(1===e)return[];for(r=new Array(e-1),i=0,o=0;e>i;i++)i!==n&&(r[o]=t[i],o++);return r}return t}function a(t,n){return u(t,o(t,n))}function c(t,n){var e=t.length,r=new Array(e),i=void 0;for(i=0;e>i;i++)r[i]=n(t[i]);return r}function f(t,n){var e=t.length,r=void 0;for(r=0;e>r;r++)n(t[r])}function l(t,n){var e=t.length,r=void 0;for(r=0;e>r;r++)t[r]=n}function h(t,n){return-1!==i(t,n)}function _(t,n,e){var r=Math.min(e,t.length+1),i=t.length-r+1,o=new Array(r),s=void 0;for(s=i;r>s;s++)o[s-i]=t[s];return o[r-1]=n,o}t.exports={concat:e,circleShift:r,find:i,findByPred:o,cloneArray:s,remove:u,removeByPred:a,map:c,forEach:f,fillArray:l,contains:h,slide:_}},function(t,n,e){"use strict";function r(){s.call(this)}var i=e(2),o=i.inherit,s=e(1);o(r,s,{_name:"stream",getType:function(){return"stream"}}),t.exports=r},function(t,n,e){"use strict";function r(){h.call(this),this._currentEvent=null}var i=e(2),o=i.inherit,s=e(3),u=s.VALUE,a=s.ERROR,c=s.END,f=e(4),l=f.callSubscriber,h=e(1);o(r,h,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:u,value:t},this._activating||this._dispatcher.dispatch({type:u,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:a,value:t},this._activating||this._dispatcher.dispatch({type:a,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:c}),this._clear())},_on:function(t,n){return this._alive&&(this._dispatcher.add(t,n),this._setActive(!0)),null!==this._currentEvent&&l(t,n,this._currentEvent),this._alive||l(t,n,{type:c}),this},getType:function(){return"property"}}),t.exports=r},function(t,n,e){"use strict";var r=e(6),i=new r;i._emitEnd(),i._name="never",t.exports=function(){return i}},function(t,n,e){"use strict";var r=e(10),i=r({_name:"later",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}});t.exports=function(t,n){return new i(t,{x:n})}},function(t,n,e){"use strict";var r=e(2),i=r.inherit,o=e(6);t.exports=function(t){function n(t,n){var e=this;o.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return e._onTick()},this._init(n)}return i(n,o,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){o.prototype._clear.call(this),this._$onTick=null,this._free()}},t),n}},function(t,n,e){"use strict";var r=e(10),i=r({_name:"interval",_init:function(t){var n=t.x;this._x=n},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}});t.exports=function(t,n){return new i(t,{x:n})}},function(t,n,e){"use strict";var r=e(10),i=e(5),o=i.cloneArray,s=e(8),u=r({_name:"sequentially",_init:function(t){var n=t.xs;this._xs=o(n)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}});t.exports=function(t,n){return 0===n.length?s():new u(t,{xs:n})}},function(t,n,e){"use strict";var r=e(10),i=r({_name:"fromPoll",_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}});t.exports=function(t,n){return new i(t,{fn:n})}},function(t,n,e){"use strict";var r=e(10),i=e(15),o=r({_name:"withInterval",_init:function(t){var n=t.fn;this._fn=n,this._emitter=i(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});t.exports=function(t,n){return new o(t,{fn:n})}},function(t,n){"use strict";t.exports=function(t){function n(n){return t._emitValue(n),t._active}function e(n){return t._emitError(n),t._active}function r(){return t._emitEnd(),t._active}function i(n){return t._emit(n.type,n.value),t._active}return{value:n,error:e,end:r,event:i,emit:n,emitEvent:i}}},function(t,n,e){"use strict";var r=e(17);t.exports=function(t){var n=!1;return r(function(e){n||(t(function(t){e.emit(t),e.end()}),n=!0)}).setName("fromCallback")}},function(t,n,e){"use strict";function r(t){s.call(this),this._fn=t,this._unsubscribe=null}var i=e(2),o=i.inherit,s=e(6),u=e(15);o(r,s,{_name:"stream",_onActivation:function(){var t=this._fn,n=t(u(this));this._unsubscribe="function"==typeof n?n:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){s.prototype._clear.call(this),this._fn=null}}),t.exports=function(t){return new r(t)}},function(t,n,e){"use strict";var r=e(17);t.exports=function(t){var n=!1;return r(function(e){n||(t(function(t,n){t?e.error(t):e.emit(n),e.end()}),n=!0)}).setName("fromNodeCallback")}},function(t,n,e){"use strict";var r=e(20),i=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];t.exports=function(t,n,e){for(var o=void 0,s=void 0,u=0;u<i.length;u++)if("function"==typeof t[i[u][0]]&&"function"==typeof t[i[u][1]]){o=i[u][0],s=i[u][1];break}if(void 0===o)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return r(function(e){return t[o](n,e)},function(e){return t[s](n,e)},e).setName("fromEvents")}},function(t,n,e){"use strict";var r=e(17),i=e(21),o=i.apply;t.exports=function(t,n,e){return r(function(r){var i=e?function(){r.emit(o(e,this,arguments))}:function(t){r.emit(t)};return t(i),function(){return n(i)}}).setName("fromSubUnsub")}},function(t,n){"use strict";function e(t,n){switch(n){case 0:return function(){return t()};case 1:return function(n){return t(n[0])};case 2:return function(n){return t(n[0],n[1])};case 3:return function(n){return t(n[0],n[1],n[2])};case 4:return function(n){return t(n[0],n[1],n[2],n[3])};default:return function(n){return t.apply(null,n)}}}function r(t,n,e){var r=e?e.length:0;if(null==n)switch(r){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);case 4:return t(e[0],e[1],e[2],e[3]);default:return t.apply(null,e)}else switch(r){case 0:return t.call(n);default:return t.apply(n,e)}}t.exports={spread:e,apply:r}},function(t,n,e){"use strict";function r(t){this._currentEvent={type:"value",value:t,current:!0}}var i=e(2),o=i.inherit,s=e(7);o(r,s,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),t.exports=function(t){return new r(t)}},function(t,n,e){"use strict";function r(t){this._currentEvent={type:"error",value:t,current:!0}}var i=e(2),o=i.inherit,s=e(7);o(r,s,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),t.exports=function(t){return new r(t)}},function(t,n,e){"use strict";var r=e(25),i=r.createProperty,o=i("toProperty",{_init:function(t){var n=t.fn;this._getInitialCurrent=n},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}});t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null!==n&&"function"!=typeof n)throw new Error("You should call toProperty() with a function or no arguments.");return new o(t,{fn:n})}},function(t,n,e){"use strict";function r(t,n){return function(e,r){var i=this;t.call(this),this._source=e,this._name=e._name+"."+n,this._init(r),this._$handleAny=function(t){return i._handleAny(t)}}}function i(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case h:return this._handleValue(t.value);case _:return this._handleError(t.value);case p:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function o(t,n){var e=r(u,t);return f(e,u,i(u),n),e}function s(t,n){var e=r(a,t);return f(e,a,i(a),n),e}var u=e(6),a=e(7),c=e(2),f=c.inherit,l=e(3),h=l.VALUE,_=l.ERROR,p=l.END;t.exports={createStream:o,createProperty:s}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=i("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}});t.exports=function(t){return new o(t)}},function(t,n,e){"use strict";var r=e(17),i=e(24);t.exports=function(t){var n=!1,e=r(function(e){if(!n){var r=function(t){e.emit(t),e.end()},i=function(t){e.error(t),e.end()},o=t.then(r,i);o&&"function"==typeof o.done&&o.done(),n=!0}});return i(e,null).setName("fromPromise")}},function(t,n){"use strict";function e(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?e():arguments[1],r=null;return new n(function(n,e){t.onAny(function(t){"end"===t.type&&null!==r?(("value"===r.type?n:e)(r.value),r=null):r=t})})}},function(t,n,e){"use strict";var r=e(17),i=e(30)("observable");t.exports=function(t){var n=t[i]?t[i]():t;return r(function(t){var e=n.subscribe({error:function(n){t.error(n),t.end()},next:function(n){t.emit(n)},complete:function(){t.end()}});return e.unsubscribe?function(){e.unsubscribe()}:e}).setName("fromESObservable")}},function(t,n){"use strict";t.exports=function(t){return"undefined"!=typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!=typeof Symbol&&"function"==typeof Symbol["for"]?Symbol["for"](t):"@@"+t}},function(t,n,e){"use strict";function r(t){this._observable=t.takeErrors(1)}var i=e(2),o=i.extend;o(r.prototype,{subscribe:function(t){var n=this,e=function(n){"value"===n.type&&t.next?t.next(n.value):"error"==n.type&&t.error?t.error(n.value):"end"===n.type&&t.complete&&t.complete(n.value)};return this._observable.onAny(e),function(){return n._observable.offAny(e)}}}),t.exports=function(){return new r(this)}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;this._emitValue(n(t))}},u=i("map",s),a=o("map",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)&&this._emitValue(t)}},u=i("filter",s),a=o("filter",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.n;this._n=n,0>=n&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},u=i("take",s),a=o("take",s);t.exports=function(t,n){return new(t._ofSameType(u,a))(t,{n:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.n;this._n=n,0>=n&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},u=i("takeErrors",s),a=o("takeErrors",s);t.exports=function(t,n){return new(t._ofSameType(u,a))(t,{n:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;n(t)?this._emitValue(t):this._emitEnd()}},u=i("takeWhile",s),a=o("takeWhile",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(3),u=s.NOTHING,a={_init:function(){this._lastValue=u},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==u&&this._emitValue(this._lastValue),this._emitEnd()}},c=i("last",a),f=o("last",a);t.exports=function(t){return new(t._ofSameType(c,f))(t)}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.n;this._n=Math.max(0,n)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},u=i("skip",s),a=o("skip",s);t.exports=function(t,n){return new(t._ofSameType(u,a))(t,{n:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn;null===this._fn||n(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},u=i("skipWhile",s),a=o("skipWhile",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(3),u=s.NOTHING,a={_init:function(t){var n=t.fn;this._fn=n,this._prev=u},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var n=this._fn;this._prev!==u&&n(this._prev,t)||(this._prev=t,this._emitValue(t))}},c=i("skipDuplicates",a),f=o("skipDuplicates",a),l=function(t,n){return t===n};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?l:arguments[1];return new(t._ofSameType(c,f))(t,{fn:n})}},function(t,n,e){"use strict";function r(t,n){return[t,n]}var i=e(25),o=i.createStream,s=i.createProperty,u=e(3),a=u.NOTHING,c={_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._prev=e},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==a){var n=this._fn;this._emitValue(n(this._prev,t))}this._prev=t}},f=o("diff",c),l=s("diff",c);t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?a:arguments[2];return new(t._ofSameType(f,l))(t,{fn:n||r,seed:e})}},function(t,n,e){"use strict";var r=e(25),i=r.createProperty,o=e(3),s=o.ERROR,u=o.NOTHING,a=i("scan",{_init:function(t){var n=t.fn,e=t.seed;this._fn=n,this._seed=e,e!==u&&this._emitValue(e)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var n=this._fn;null===this._currentEvent||this._currentEvent.type===s?this._emitValue(this._seed===u?t:n(this._seed,t)):this._emitValue(n(this._currentEvent.value,t))}});t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?u:arguments[2];return new a(t,{fn:n,seed:e})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){for(var n=this._fn,e=n(t),r=0;r<e.length;r++)this._emitValue(e[r])}},s=i("flatten",o),u=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?u:arguments[1];return new s(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={},u={_init:function(t){var n=this,e=t.wait;this._wait=Math.max(0,e),this._buff=[],this._$shiftBuff=function(){var t=n._buff.shift();t===s?n._emitEnd():n._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(s),setTimeout(this._$shiftBuff,this._wait))}},a=i("delay",u),c=o("delay",u);t.exports=function(t,n){return new(t._ofSameType(a,c))(t,{wait:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(46),u={_init:function(t){var n=this,e=t.wait,r=t.leading,i=t.trailing;this._wait=Math.max(0,e),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return n._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var n=s();0!==this._lastCallTime||this._leading||(this._lastCallTime=n);var e=this._wait-(n-this._lastCallTime);0>=e?(this._cancelTrailing(),this._lastCallTime=n,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,e))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?s():0,this._endLater&&this._emitEnd()}},a=i("throttle",u),c=o("throttle",u);t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=e.leading,i=void 0===r?!0:r,o=e.trailing,s=void 0===o?!0:o;return new(t._ofSameType(a,c))(t,{wait:n,leading:i,trailing:s})}},function(t,n){"use strict";t.exports=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(46),u={_init:function(t){var n=this,e=t.wait,r=t.immediate;this._wait=Math.max(0,e),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return n._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=s(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=s()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},a=i("debounce",u),c=o("debounce",u);t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=e.immediate,i=void 0===r?!1:r;return new(t._ofSameType(a,c))(t,{wait:n,immediate:i})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;this._emitError(n(t))}},u=i("mapErrors",s),a=o("mapErrors",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn;n(t)&&this._emitError(t)}},u=i("filterErrors",s),a=o("filterErrors",s),c=function(t){return t};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_handleValue:function(){}},u=i("ignoreValues",s),a=o("ignoreValues",s);t.exports=function(t){return new(t._ofSameType(u,a))(t)}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_handleError:function(){}},u=i("ignoreErrors",s),a=o("ignoreErrors",s);t.exports=function(t){return new(t._ofSameType(u,a))(t)}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_handleEnd:function(){}},u=i("ignoreEnd",s),a=o("ignoreEnd",s);t.exports=function(t){return new(t._ofSameType(u,a))(t)}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},u=i("beforeEnd",s),a=o("beforeEnd",s);t.exports=function(t,n){return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(5),u=s.slide,a={_init:function(t){var n=t.min,e=t.max;this._max=e,this._min=n,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=u(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},c=i("slidingWindow",a),f=o("slidingWindow",a);t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new(t._ofSameType(c,f))(t,{min:e,max:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn,e=t.flushOnEnd;this._fn=n,this._flushOnEnd=e,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t);var n=this._fn;n(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},u=i("bufferWhile",s),a=o("bufferWhile",s),c=function(t){return t};t.exports=function(t,n){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=e.flushOnEnd,i=void 0===r?!0:r;return new(t._ofSameType(u,a))(t,{fn:n||c,flushOnEnd:i})}},function(t,n,e){"use strict";function r(t){return{"@@transducer/step":function(n,e){return t._emitValue(e),null},"@@transducer/result":function(){return t._emitEnd(),null}}}var i=e(25),o=i.createStream,s=i.createProperty,u={_init:function(t){var n=t.transducer;this._xform=n(r(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},a=o("transduce",u),c=s("transduce",u);t.exports=function(t,n){return new(t._ofSameType(a,c))(t,{transducer:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s=e(15),u={_init:function(t){var n=t.fn;this._handler=n,this._emitter=s(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},a=i("withHandler",u),c=o("withHandler",u);t.exports=function(t,n){return new(t._ofSameType(a,c))(t,{fn:n})}},function(t,n,e){"use strict";function r(t){for(var n=void 0,e=0;e<t.length;e++)void 0!==t[e]&&(void 0===n||n.index<t[e].index)&&(n=t[e]);return n.error}function i(t,n,e){
var r=this;o.call(this),this._activeCount=t.length,this._sources=_(t,n),this._combinator=e?v(e,this._sources.length):function(t){return t},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),p(this._latestValues,c),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var i=function(t){r._$handlers.push(function(n){return r._handleAny(t,n)})},s=0;s<this._sources.length;s++)i(s)}var o=e(6),s=e(3),u=s.VALUE,a=s.ERROR,c=s.NOTHING,f=e(2),l=f.inherit,h=e(5),_=h.concat,p=h.fillArray,d=e(21),v=d.spread,m=e(8);l(i,o,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var t=0;t<this._activeCount;t++)this._sources[t].onAny(this._$handlers[t]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,n=void 0;for(n=0;t>n;n++)this._sources[n].offAny(this._$handlers[n])},_emitIfFull:function(){for(var t=!0,n=!1,e=this._latestValues.length,i=new Array(e),o=new Array(e),s=0;e>s;s++)i[s]=this._latestValues[s],o[s]=this._latestErrors[s],i[s]===c&&(t=!1),void 0!==o[s]&&(n=!0);if(t){var u=this._combinator;this._emitValue(u(i))}n&&this._emitError(r(o))},_handleAny:function(t,n){n.type===u||n.type===a?(n.type===u&&(this._latestValues[t]=n.value,this._latestErrors[t]=void 0),n.type===a&&(this._latestValues[t]=c,this._latestErrors[t]={index:this._latestErrorIndex++,error:n.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){o.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}}),t.exports=function(t,n,e){return void 0===n&&(n=[]),"function"==typeof n&&(e=n,n=[]),0===t.length?m():new i(t,n,e)}},function(t,n,e){"use strict";function r(t,n){var e=this;i.call(this),this._buffers=h(t,function(t){return m(t)?_(t):[]}),this._sources=h(t,function(t){return m(t)?v():t}),this._combinator=n?d(n,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var r=function(t){e._$handlers.push(function(n){return e._handleAny(t,n)})},o=0;o<this._sources.length;o++)r(o)}var i=e(6),o=e(3),s=o.VALUE,u=o.ERROR,a=o.END,c=e(2),f=c.inherit,l=e(5),h=l.map,_=l.cloneArray,p=e(21),d=p.spread,v=e(8),m=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};f(r,i,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var n=0;t>n&&this._active;n++)this._sources[n].onAny(this._$handlers[n])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),n=0;n<this._buffers.length;n++)t[n]=this._buffers[n].shift();var e=this._combinator;this._emitValue(e(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,n){n.type===s&&(this._buffers[t].push(n.value),this._isFull()&&this._emit()),n.type===u&&this._emitError(n.value),n.type===a&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){i.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}}),t.exports=function(t,n){return 0===t.length?v():new r(t,n)}},function(t,n,e){"use strict";function r(t){s.call(this),this._addAll(t),this._initialised=!0}var i=e(2),o=i.inherit,s=e(61),u=e(8);o(r,s,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),t.exports=function(t){return 0===t.length?u():new r(t)}},function(t,n,e){"use strict";function r(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=n.queueLim,r=void 0===e?0:e,o=n.concurLim,s=void 0===o?-1:o,u=n.drop,a=void 0===u?"new":u;i.call(this),this._queueLim=0>r?-1:r,this._concurLim=0>s?-1:s,this._drop=a,this._queue=[],this._curSources=[],this._$handleSubAny=function(n){return t._handleSubAny(n)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}var i=e(6),o=e(3),s=o.VALUE,u=o.ERROR,a=e(2),c=a.inherit,f=e(5),l=f.concat,h=f.forEach,_=f.findByPred,p=f.find,d=f.remove,v=f.cloneArray,m=function(t){return t};c(r,i,{_name:"abstractPool",_add:function(t,n){n=n||m,-1===this._concurLim||this._curSources.length<this._concurLim?this._addToCur(n(t)):-1===this._queueLim||this._queue.length<this._queueLim?this._addToQueue(n(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,n))},_addAll:function(t){var n=this;h(t,function(t){return n._add(t)})},_remove:function(t){-1===this._removeCur(t)&&this._removeQueue(t)},_addToQueue:function(t){this._queue=l(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=l(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=l(this._curSources,[t])},_subToEnd:function(t){var n=this,e=function(){return n._removeCur(t)};this._$endHandlers.push({obs:t,handler:e}),t.onEnd(e)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var n=_(this._$endHandlers,function(n){return n.obs===t});-1!==n&&(t.offEnd(this._$endHandlers[n].handler),this._$endHandlers.splice(n,1))},_handleSubAny:function(t){t.type===s?this._emitValue(t.value):t.type===u&&this._emitError(t.value)},_removeQueue:function(t){var n=p(this._queue,t);return this._queue=d(this._queue,n),n},_removeCur:function(t){this._active&&this._unsubscribe(t);var n=p(this._curSources,t);return this._curSources=d(this._curSources,n),-1!==n&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),n},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=v(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,n=this._curSources;t<n.length&&this._active;t++)this._subscribe(n[t])},_onDeactivation:function(){for(var t=0,n=this._curSources;t<n.length;t++)this._unsubscribe(n[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){i.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),t.exports=r},function(t,n,e){"use strict";var r=e(63);t.exports=function(t){return r(function(n){return t.length>n?t[n]:!1}).setName("concat")}},function(t,n,e){"use strict";function r(t){var n=this;s.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return n._handleAny(t)}}var i=e(2),o=i.inherit,s=e(6),u=e(3),a=u.END;o(r,s,{_name:"repeat",_handleAny:function(t){t.type===a?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){s.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),t.exports=function(t){return new r(t)}},function(t,n,e){"use strict";function r(){s.call(this)}var i=e(2),o=i.inherit,s=e(61);o(r,s,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),t.exports=r},function(t,n,e){"use strict";function r(t,n,e){var r=this;f.call(this,e),this._source=t,this._fn=n,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return r._handleMain(t)}}var i=e(3),o=i.VALUE,s=i.ERROR,u=i.END,a=e(2),c=a.inherit,f=e(61);c(r,f,{_onActivation:function(){f.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){f.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===o){var n=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;n||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===s&&this._emitError(t.value),t.type===u&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){f.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),t.exports=r},function(t,n,e){"use strict";function r(t,n){f.call(this,t,n)}var i=e(3),o=i.VALUE,s=i.ERROR,u=i.END,a=e(2),c=a.inherit,f=e(65);c(r,f,{_handleMain:function(t){if(t.type===s){var n=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;n||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===o&&this._emitValue(t.value),t.type===u&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}}),t.exports=r},function(t,n,e){"use strict";var r=e(68),i=r.createStream,o=r.createProperty,s=e(3),u=s.NOTHING,a={_handlePrimaryValue:function(t){this._lastSecondary!==u&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==u&&this._lastSecondary||this._emitEnd()}},c=i("filterBy",a),f=o("filterBy",a);t.exports=function(t,n){return new(t._ofSameType(c,f))(t,n)}},function(t,n,e){"use strict";function r(t,n){return function(e,r,i){var o=this;t.call(this),this._primary=e,this._secondary=r,this._name=e._name+"."+n,this._lastSecondary=d,this._$handleSecondaryAny=function(t){return o._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return o._handlePrimaryAny(t)},this._init(i)}}function i(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case h:return this._handlePrimaryValue(t.value);case _:return this._handlePrimaryError(t.value);case p:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case h:return this._handleSecondaryValue(t.value);case _:return this._handleSecondaryError(t.value);case p:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function o(t,n){var e=r(u,t);return f(e,u,i(u),n),e}function s(t,n){var e=r(a,t);return f(e,a,i(a),n),e}var u=e(6),a=e(7),c=e(2),f=c.inherit,l=e(3),h=l.VALUE,_=l.ERROR,p=l.END,d=l.NOTHING;t.exports={createStream:o,createProperty:s}},function(t,n,e){"use strict";var r=e(58),i=function(t,n){return n};t.exports=function(t,n,e){var o=e?function(t,n){return e(n,t)}:i;return r([n],[t],o).setName(t,"sampledBy")}},function(t,n,e){"use strict";var r=e(68),i=r.createStream,o=r.createProperty,s=e(3),u=s.NOTHING,a={_handlePrimaryValue:function(t){this._lastSecondary!==u&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===u&&this._emitEnd()}},c=i("skipUntilBy",a),f=o("skipUntilBy",a);t.exports=function(t,n){return new(t._ofSameType(c,f))(t,n)}},function(t,n,e){"use strict";var r=e(68),i=r.createStream,o=r.createProperty,s={_handleSecondaryValue:function(){this._emitEnd()}},u=i("takeUntilBy",s),a=o("takeUntilBy",s);t.exports=function(t,n){return new(t._ofSameType(u,a))(t,n)}},function(t,n,e){"use strict";var r=e(68),i=r.createStream,o=r.createProperty,s={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.flushOnEnd,e=void 0===n?!0:n;this._buff=[],this._flushOnEnd=e},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},u=i("bufferBy",s),a=o("bufferBy",s);t.exports=function(t,n,e){return new(t._ofSameType(u,a))(t,n,e)}},function(t,n,e){"use strict";var r=e(68),i=r.createStream,o=r.createProperty,s=e(3),u=s.NOTHING,a={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.flushOnEnd,e=void 0===n?!0:n,r=t.flushOnChange,i=void 0===r?!1:r;this._buff=[],this._flushOnEnd=e,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===u||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==u&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},c=i("bufferWhileBy",a),f=o("bufferWhileBy",a);t.exports=function(t,n,e){return new(t._ofSameType(c,f))(t,n,e)}},function(t,n,e){"use strict";var r=e(60),i=e(32),o=e(40),s=e(24),u=function(){return!1},a=function(){return!0};t.exports=function(t,n){var e=r([i(t,a),i(n,u)]);return e=o(e),e=s(e,u),e.setName(t,"awaiting")}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleValue:function(t){var n=this._fn,e=n(t);e.convert?this._emitError(e.error):this._emitValue(t)}},u=i("valuesToErrors",s),a=o("valuesToErrors",s),c=function(t){return{convert:!0,error:t}};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_init:function(t){var n=t.fn;this._fn=n},_free:function(){this._fn=null},_handleError:function(t){var n=this._fn,e=n(t);e.convert?this._emitValue(e.value):this._emitError(t)}},u=i("errorsToValues",s),a=o("errorsToValues",s),c=function(t){return{convert:!0,value:t}};t.exports=function(t){var n=arguments.length<=1||void 0===arguments[1]?c:arguments[1];return new(t._ofSameType(u,a))(t,{fn:n})}},function(t,n,e){"use strict";var r=e(25),i=r.createStream,o=r.createProperty,s={_handleError:function(t){this._emitError(t),this._emitEnd()}},u=i("endOnError",s),a=o("endOnError",s);t.exports=function(t){return new(t._ofSameType(u,a))(t)}}])})},function(t,n){function e(t){var n=t?t.length:0;return n?t[n-1]:void 0}t.exports=e},function(t,n,e){function r(t){if(a(t)&&!u(t)&&!(t instanceof i)){if(t instanceof o)return t;if(l.call(t,"__chain__")&&l.call(t,"__wrapped__"))return c(t)}return new o(t)}var i=e(9),o=e(19),s=e(11),u=e(3),a=e(2),c=e(75),f=Object.prototype,l=f.hasOwnProperty;r.prototype=s.prototype,t.exports=r},function(t,n,e){var r=e(7),i=r(Date,"now"),o=i||function(){return(new Date).getTime()};t.exports=o},function(t,n,e){var r=e(59),i=32,o=r(i);o.placeholder={},t.exports=o},function(t,n){function e(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}t.exports=e},function(t,n){function e(t,n){return void 0===t?n:t}t.exports=e},function(t,n,e){function r(t,n,e){for(var r=-1,o=i(n),s=o.length;++r<s;){var u=o[r],a=t[u],c=e(a,n[u],u,t,n);(c===c?c===a:a!==a)&&(void 0!==a||u in t)||(t[u]=c)}return t}var i=e(17);t.exports=r},function(t,n,e){function r(t,n){return null==n?t:i(n,o(n),t)}var i=e(48),o=e(17);t.exports=r},function(t,n){function e(t,n,e){e||(e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}t.exports=e},function(t,n,e){function r(t,n,e){if(null!=t){void 0!==e&&e in i(t)&&(n=[e]);for(var r=0,o=n.length;null!=t&&o>r;)t=t[n[r++]];return r&&r==o?t:void 0}}var i=e(27);t.exports=r},function(t,n,e){function r(t,n,e,u,a,c){return t===n?!0:null==t||null==n||!o(t)&&!s(n)?t!==t&&n!==n:i(t,n,r,e,u,a,c)}var i=e(51),o=e(1),s=e(2);t.exports=r},function(t,n,e){function r(t,n,e,r,h,d,v){var m=u(t),y=u(n),g=f,b=f;m||(g=p.call(t),g==c?g=l:g!=l&&(m=a(t))),y||(b=p.call(n),b==c?b=l:b!=l&&(y=a(n)));var E=g==l,w=b==l,x=g==b;if(x&&!m&&!E)return o(t,n,g);if(!h){var A=E&&_.call(t,"__wrapped__"),S=w&&_.call(n,"__wrapped__");if(A||S)return e(A?t.value():t,S?n.value():n,r,h,d,v)}if(!x)return!1;d||(d=[]),v||(v=[]);for(var T=d.length;T--;)if(d[T]==t)return v[T]==n;d.push(t),v.push(n);var O=(m?i:s)(t,n,e,r,h,d,v);return d.pop(),v.pop(),O}var i=e(62),o=e(63),s=e(64),u=e(3),a=e(79),c="[object Arguments]",f="[object Array]",l="[object Object]",h=Object.prototype,_=h.hasOwnProperty,p=h.toString;t.exports=r},function(t,n){function e(t){return function(n){return null==n?void 0:n[t]}}t.exports=e},function(t,n){function e(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),e=void 0===e||e>i?i:+e||0,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}t.exports=e},function(t,n){function e(t){return null==t?"":t+""}t.exports=e},function(t,n,e){function r(t){return s(function(n,e){var r=-1,s=null==n?0:e.length,u=s>2?e[s-2]:void 0,a=s>2?e[2]:void 0,c=s>1?e[s-1]:void 0;for("function"==typeof u?(u=i(u,c,5),s-=2):(u="function"==typeof c?c:void 0,s-=u?1:0),a&&o(e[0],e[1],a)&&(u=3>s?void 0:u,s=1);++r<s;){var f=e[r];f&&t(n,f,u)}return n})}var i=e(21),o=e(67),s=e(8);t.exports=r},function(t,n,e){(function(n){function r(t,e){function r(){var i=this&&this!==n&&this instanceof r?o:t;return i.apply(e,arguments)}var o=i(t);return r}var i=e(12);t.exports=r}).call(n,function(){return this}())},function(t,n,e){function r(t,n){return i(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(void 0,e))})}var i=e(8);t.exports=r},function(t,n,e){(function(n){function r(t,e,E,w,x,A,S,T,O,V){function L(){for(var p=arguments.length,d=p,v=Array(p);d--;)v[d]=arguments[d];if(w&&(v=o(v,w,x)),A&&(v=s(v,A,S)),j||N){var g=L.placeholder,D=f(v,g);if(p-=D.length,V>p){var $=T?i(T):void 0,M=b(V-p,0),W=j?D:void 0,B=j?void 0:D,U=j?v:void 0,H=j?void 0:v;e|=j?m:y,e&=~(j?y:m),C||(e&=~(h|_));var q=[t,e,E,U,W,H,B,$,O,M],F=r.apply(void 0,q);return a(t)&&l(F,q),F.placeholder=g,F}}var G=k?E:this,Y=I?G[t]:t;return T&&(v=c(v,T)),P&&O<v.length&&(v.length=O),this&&this!==n&&this instanceof L&&(Y=R||u(t)),Y.apply(G,v)}var P=e&g,k=e&h,I=e&_,j=e&d,C=e&p,N=e&v,R=I?void 0:u(t);return L}var i=e(6),o=e(22),s=e(23),u=e(12),a=e(69),c=e(72),f=e(14),l=e(26),h=1,_=2,p=4,d=8,v=16,m=32,y=64,g=128,b=Math.max;t.exports=r}).call(n,function(){return this}())},function(t,n,e){function r(t){var n=s(function(e,r){var s=o(r,n.placeholder);return i(e,t,void 0,r,s)});return n}var i=e(61),o=e(14),s=e(8);t.exports=r},function(t,n,e){(function(n){function r(t,e,r,s){function u(){for(var e=-1,i=arguments.length,o=-1,f=s.length,l=Array(f+i);++o<f;)l[o]=s[o];for(;i--;)l[o++]=arguments[++e];var h=this&&this!==n&&this instanceof u?c:t;return h.apply(a?r:this,l)}var a=e&o,c=i(t);return u}var i=e(12),o=1;t.exports=r}).call(n,function(){return this}())},function(t,n,e){function r(t,n,e,r,m,y,g,b){var E=n&h;if(!E&&"function"!=typeof t)throw new TypeError(d);var w=r?r.length:0;if(w||(n&=~(_|p),r=m=void 0),w-=m?m.length:0,n&p){var x=r,A=m;r=m=void 0}var S=E?void 0:a(t),T=[t,n,e,r,m,x,A,y,g,b];if(S&&(c(T,S),n=T[1],b=T[9]),T[9]=null==b?E?0:t.length:v(b-w,0)||0,n==l)var O=o(T[0],T[2]);else O=n!=_&&n!=(l|_)||T[4].length?s.apply(void 0,T):u.apply(void 0,T);var V=S?i:f;return V(O,T)}var i=e(20),o=e(56),s=e(58),u=e(60),a=e(24),c=e(70),f=e(26),l=1,h=2,_=32,p=64,d="Expected a function",v=Math.max;t.exports=r},function(t,n,e){function r(t,n,e,r,o,s,u){var a=-1,c=t.length,f=n.length;if(c!=f&&!(o&&f>c))return!1;for(;++a<c;){var l=t[a],h=n[a],_=r?r(o?h:l,o?l:h,a):void 0;if(void 0!==_){if(_)continue;return!1}if(o){if(!i(n,function(t){return l===t||e(l,t,r,o,s,u)}))return!1}else if(l!==h&&!e(l,h,r,o,s,u))return!1}return!0}var i=e(44);t.exports=r},function(t,n){function e(t,n,e){switch(e){case r:case i:return+t==+n;case o:return t.name==n.name&&t.message==n.message;case s:return t!=+t?n!=+n:t==+n;case u:case a:return t==n+""}return!1}var r="[object Boolean]",i="[object Date]",o="[object Error]",s="[object Number]",u="[object RegExp]",a="[object String]";t.exports=e},function(t,n,e){function r(t,n,e,r,o,u,a){var c=i(t),f=c.length,l=i(n),h=l.length;if(f!=h&&!o)return!1;for(var _=f;_--;){var p=c[_];if(!(o?p in n:s.call(n,p)))return!1}for(var d=o;++_<f;){p=c[_];var v=t[p],m=n[p],y=r?r(o?m:v,o?v:m,p):void 0;if(!(void 0===y?e(v,m,r,o,u,a):y))return!1;d||(d="constructor"==p)}if(!d){var g=t.constructor,b=n.constructor;if(g!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b))return!1}return!0}var i=e(17),o=Object.prototype,s=o.hasOwnProperty;t.exports=r},function(t,n,e){function r(t){for(var n=t.name+"",e=i[n],r=e?e.length:0;r--;){var o=e[r],s=o.func;if(null==s||s==t)return o.name}return n}var i=e(71);t.exports=r},function(t,n,e){var r=e(52),i=r("length");t.exports=i},function(t,n,e){function r(t,n,e){if(!s(e))return!1;var r=typeof n;if("number"==r?i(e)&&o(n,e.length):"string"==r&&n in e){var u=e[n];return t===t?t===u:u!==u}return!1}var i=e(13),o=e(5),s=e(1);t.exports=r},function(t,n,e){function r(t,n){var e=typeof t;if("string"==e&&u.test(t)||"number"==e)return!0;if(i(t))return!1;var r=!s.test(t);return r||null!=n&&t in o(n)}var i=e(3),o=e(27),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=r},function(t,n,e){function r(t){var n=s(t),e=u[n];if("function"!=typeof e||!(n in i.prototype))return!1;if(t===e)return!0;var r=o(e);return!!r&&t===r[0]}var i=e(9),o=e(24),s=e(65),u=e(41);t.exports=r},function(t,n,e){function r(t,n){var e=t[1],r=n[1],d=e|r,v=l>d,m=r==l&&e==f||r==l&&e==h&&t[7].length<=n[8]||r==(l|h)&&e==f;if(!v&&!m)return t;r&a&&(t[2]=n[2],d|=e&a?0:c);var y=n[3];if(y){var g=t[3];t[3]=g?o(g,y,n[4]):i(y),t[4]=g?u(t[3],_):i(n[4])}return y=n[5],y&&(g=t[5],t[5]=g?s(g,y,n[6]):i(y),t[6]=g?u(t[5],_):i(n[6])),y=n[7],y&&(t[7]=i(y)),r&l&&(t[8]=null==t[8]?n[8]:p(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=d,t}var i=e(6),o=e(22),s=e(23),u=e(14),a=1,c=4,f=8,l=128,h=256,_="__lodash_placeholder__",p=Math.min;t.exports=r},function(t,n){var e={};t.exports=e},function(t,n,e){function r(t,n){for(var e=t.length,r=s(n.length,e),u=i(t);r--;){var a=n[r];t[r]=o(a,e)?u[a]:void 0}return t}var i=e(6),o=e(5),s=Math.min;t.exports=r},function(t,n,e){function r(t){for(var n=a(t),e=n.length,r=e&&t.length,c=!!r&&u(r)&&(o(t)||i(t)),l=-1,h=[];++l<e;){var _=n[l];(c&&s(_,r)||f.call(t,_))&&h.push(_)}return h}var i=e(15),o=e(3),s=e(5),u=e(4),a=e(82),c=Object.prototype,f=c.hasOwnProperty;t.exports=r},function(t,n,e){function r(t){if(o(t))return t;var n=[];return i(t).replace(s,function(t,e,r,i){n.push(r?i.replace(u,"$1"):e||t)}),n}var i=e(54),o=e(3),s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,u=/\\(\\)?/g;t.exports=r},function(t,n,e){function r(t){return t instanceof i?t.clone():new o(t.__wrapped__,t.__chain__,s(t.__actions__))}var i=e(9),o=e(19),s=e(6);t.exports=r},function(t,n,e){function r(t,n,e,r){e="function"==typeof e?o(e,r,3):void 0;var s=e?e(t,n):void 0;return void 0===s?i(t,n,e):!!s}var i=e(50),o=e(21);t.exports=r},function(t,n,e){function r(t){return i(t)&&u.call(t)==o}var i=e(1),o="[object Function]",s=Object.prototype,u=s.toString;t.exports=r},function(t,n,e){function r(t){return null==t?!1:i(t)?f.test(a.call(t)):o(t)&&s.test(t)}var i=e(77),o=e(2),s=/^\[object .+?Constructor\]$/,u=Object.prototype,a=Function.prototype.toString,c=u.hasOwnProperty,f=RegExp("^"+a.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,n,e){function r(t){return o(t)&&i(t.length)&&!!L[k.call(t)]}var i=e(4),o=e(2),s="[object Arguments]",u="[object Array]",a="[object Boolean]",c="[object Date]",f="[object Error]",l="[object Function]",h="[object Map]",_="[object Number]",p="[object Object]",d="[object RegExp]",v="[object Set]",m="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",b="[object Float32Array]",E="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",S="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",V="[object Uint32Array]",L={};L[b]=L[E]=L[w]=L[x]=L[A]=L[S]=L[T]=L[O]=L[V]=!0,L[s]=L[u]=L[g]=L[a]=L[c]=L[f]=L[l]=L[h]=L[_]=L[p]=L[d]=L[v]=L[m]=L[y]=!1;var P=Object.prototype,k=P.toString;t.exports=r},function(t,n){function e(t){return void 0===t}t.exports=e},function(t,n,e){var r=e(46),i=e(47),o=e(55),s=o(function(t,n,e){return e?r(t,n,e):i(t,n)});t.exports=s},function(t,n,e){function r(t){if(null==t)return[];a(t)||(t=Object(t));var n=t.length;n=n&&u(n)&&(o(t)||i(t))&&n||0;for(var e=t.constructor,r=-1,c="function"==typeof e&&e.prototype===t,l=Array(n),h=n>0;++r<n;)l[r]=r+"";for(var _ in t)h&&s(_,n)||"constructor"==_&&(c||!f.call(t,_))||l.push(_);return l}var i=e(15),o=e(3),s=e(5),u=e(4),a=e(1),c=Object.prototype,f=c.hasOwnProperty;t.exports=r},function(t,n){function e(){}t.exports=e},function(t,n){function e(){c=!1,s.length?a=s.concat(a):f=-1,a.length&&r()}function r(){if(!c){var t=setTimeout(e);c=!0;for(var n=a.length;n;){for(s=a,a=[];++f<n;)s&&s[f].run();f=-1,n=a.length}s=null,c=!1,clearTimeout(t)}}function i(t,n){this.fun=t,this.array=n}function o(){}var s,u=t.exports={},a=[],c=!1,f=-1;u.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];a.push(new i(t,n)),1!==a.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(t,n,e){var r,i,o;!function(e,s){i=[],r=s,o="function"==typeof r?r.apply(n,i):r,!(void 0!==o&&(t.exports=o))}(this,function(){function t(n,e,r){function i(t,n){var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}var o={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};r||(r={});for(var s in o)"undefined"!=typeof r[s]?this[s]=r[s]:this[s]=o[s];this.url=n,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var u,a=this,c=!1,f=!1,l=document.createElement("div");l.addEventListener("open",function(t){a.onopen(t)}),l.addEventListener("close",function(t){a.onclose(t)}),l.addEventListener("connecting",function(t){a.onconnecting(t)}),l.addEventListener("message",function(t){a.onmessage(t)}),l.addEventListener("error",function(t){a.onerror(t)}),this.addEventListener=l.addEventListener.bind(l),this.removeEventListener=l.removeEventListener.bind(l),this.dispatchEvent=l.dispatchEvent.bind(l),this.open=function(n){if(u=new WebSocket(a.url,e||[]),n){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else l.dispatchEvent(i("connecting")),this.reconnectAttempts=0;(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",a.url);var r=u,o=setTimeout(function(){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",a.url),f=!0,r.close(),f=!1},a.timeoutInterval);u.onopen=function(e){clearTimeout(o),(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onopen",a.url),a.protocol=u.protocol,a.readyState=WebSocket.OPEN,a.reconnectAttempts=0;var r=i("open");r.isReconnect=n,n=!1,l.dispatchEvent(r)},u.onclose=function(e){if(clearTimeout(o),u=null,c)a.readyState=WebSocket.CLOSED,l.dispatchEvent(i("close"));else{a.readyState=WebSocket.CONNECTING;var r=i("connecting");r.code=e.code,r.reason=e.reason,r.wasClean=e.wasClean,l.dispatchEvent(r),n||f||((a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onclose",a.url),l.dispatchEvent(i("close")));var o=a.reconnectInterval*Math.pow(a.reconnectDecay,a.reconnectAttempts);setTimeout(function(){a.reconnectAttempts++,a.open(!0)},o>a.maxReconnectInterval?a.maxReconnectInterval:o)}},u.onmessage=function(n){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",a.url,n.data);var e=i("message");e.data=n.data,l.dispatchEvent(e)},u.onerror=function(n){(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","onerror",a.url,n),l.dispatchEvent(i("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(n){if(u)return(a.debug||t.debugAll)&&console.debug("ReconnectingWebSocket","send",a.url,n),u.send(n);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(t,n){"undefined"==typeof t&&(t=1e3),c=!0,u&&u.close(t,n)},this.refresh=function(){u&&u.close()}}return"undefined"!=typeof window&&("WebSocket"in window,1)?(t.prototype.onopen=function(t){},t.prototype.onclose=function(t){},t.prototype.onconnecting=function(t){},t.prototype.onmessage=function(t){},t.prototype.onerror=function(t){},t.debugAll=!1,t.CONNECTING=WebSocket.CONNECTING,t.OPEN=WebSocket.OPEN,t.CLOSING=WebSocket.CLOSING,t.CLOSED=WebSocket.CLOSED,t):void 0})},function(t,n){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n){!function(){"use strict";function t(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function e(t){this.map={},t instanceof e?t.forEach(function(t,n){this.append(n,t)},this):t&&Object.getOwnPropertyNames(t).forEach(function(n){this.append(n,t[n])},this)}function r(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function i(t){return new Promise(function(n,e){t.onload=function(){n(t.result)},t.onerror=function(){e(t.error)}})}function o(t){var n=new FileReader;return n.readAsArrayBuffer(t),i(n)}function s(t){var n=new FileReader;return n.readAsText(t),i(n)}function u(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(_.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(_.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(t){
if(!_.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t))throw new Error("unsupported BodyInit type")}else this._bodyText=""},_.blob?(this.blob=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var t=r(this);return t?t:Promise.resolve(this._bodyText)},_.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function a(t){var n=t.toUpperCase();return p.indexOf(n)>-1?n:t}function c(t,n){n=n||{};var r=n.body;if(c.prototype.isPrototypeOf(t)){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,n.headers||(this.headers=new e(t.headers)),this.method=t.method,this.mode=t.mode,r||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=t;if(this.credentials=n.credentials||this.credentials||"omit",(n.headers||!this.headers)&&(this.headers=new e(n.headers)),this.method=a(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(t){var n=new FormData;return t.trim().split("&").forEach(function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),i=e.join("=").replace(/\+/g," ");n.append(decodeURIComponent(r),decodeURIComponent(i))}}),n}function l(t){var n=new e,r=t.getAllResponseHeaders().trim().split("\n");return r.forEach(function(t){var e=t.trim().split(":"),r=e.shift().trim(),i=e.join(":").trim();n.append(r,i)}),n}function h(t,n){n||(n={}),this._initBody(t),this.type="default",this.status=n.status,this.ok=this.status>=200&&this.status<300,this.statusText=n.statusText,this.headers=n.headers instanceof e?n.headers:new e(n.headers),this.url=n.url||""}if(!self.fetch){e.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},e.prototype["delete"]=function(n){delete this.map[t(n)]},e.prototype.get=function(n){var e=this.map[t(n)];return e?e[0]:null},e.prototype.getAll=function(n){return this.map[t(n)]||[]},e.prototype.has=function(n){return this.map.hasOwnProperty(t(n))},e.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},e.prototype.forEach=function(t,n){Object.getOwnPropertyNames(this.map).forEach(function(e){this.map[e].forEach(function(r){t.call(n,r,e,this)},this)},this)};var _={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self},p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},u.call(c.prototype),u.call(h.prototype),h.prototype.clone=function(){return new h(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new e(this.headers),url:this.url})},h.error=function(){var t=new h(null,{status:0,statusText:""});return t.type="error",t};var d=[301,302,303,307,308];h.redirect=function(t,n){if(-1===d.indexOf(n))throw new RangeError("Invalid status code");return new h(null,{status:n,headers:{location:t}})},self.Headers=e,self.Request=c,self.Response=h,self.fetch=function(t,n){return new Promise(function(e,r){function i(){return"responseURL"in s?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0}var o;o=c.prototype.isPrototypeOf(t)&&!n?t:new c(t,n);var s=new XMLHttpRequest;s.onload=function(){var t=1223===s.status?204:s.status;if(100>t||t>599)return void r(new TypeError("Network request failed"));var n={status:t,statusText:s.statusText,headers:l(s),url:i()},o="response"in s?s.response:s.responseText;e(new h(o,n))},s.onerror=function(){r(new TypeError("Network request failed"))},s.open(o.method,o.url,!0),"include"===o.credentials&&(s.withCredentials=!0),"responseType"in s&&_.blob&&(s.responseType="blob"),o.headers.forEach(function(t,n){s.setRequestHeader(n,t)}),s.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},self.fetch.polyfill=!0}}()},function(t,n){}]);